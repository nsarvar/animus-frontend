<h2 class="page-header">
 Create New
</h2>

<div *ngIf="!apartment.email; else forminfo">
  <form [formGroup]="formGroup" (ngSubmit) = "onSubmit(formGroup.value)">
    <div class="form-group row">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="email" formControlName="email">
        <div class="badge badge-info badge-secondary"
             *ngIf="!formGroup.controls['email'].valid && formGroup.controls['email'].touched">
          Email is required</div>
      </div>

    </div>
    <div class="form-group row">
      <label for="street" class="col-sm-2 col-form-label">Street</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="street" formControlName="street">
        <div class="badge badge-info badge-secondary"
             *ngIf="!formGroup.controls['street'].valid && formGroup.controls['street'].touched">
          Street is required</div>
      </div>
    </div>

    <div class="form-group row">
      <label for="town" class="col-sm-2 col-form-label">Town</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="town" formControlName="town">
        <div class="badge badge-info badge-secondary"
             *ngIf="!formGroup.controls['town'].valid && formGroup.controls['town'].touched">
          Town is required</div>
      </div>
    </div>

<div class="form-group row">
      <label for="country" class="col-sm-2 col-form-label">Country</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="country" formControlName="country">
        <div class="badge badge-info badge-secondary"
             *ngIf="!formGroup.controls['country'].valid && formGroup.controls['country'].touched">
          Country is required</div>
      </div>
    </div>

  <div class="form-group row">
      <label for="postcode" class="col-sm-2 col-form-label">Postcode</label>
      <div class="col-sm-4">
        <input type="text" class="form-control" id="postcode" formControlName="postcode">
      </div>
  </div>

    <div class="form-group row">
      <label for="photo" class="col-sm-2 col-form-label">Photo</label>
      <div class="col-sm-4">
        <input type="file" class="form-control" id="photo" formControlName="photo">
      </div>
    </div>

    <div class="form-group row">
      <label for="photo" class="col-sm-2 col-form-label">Details</label>
      <div class="col-sm-4">
        <textarea formControlName="description" class="form-control" id="description" name="description"></textarea>
      </div>
    </div>

<hr>
    <button type="submit" class="btn " [ngClass]="(formGroup.valid)?'btn-info':''" [disabled]="!formGroup.valid">Sign in</button>
  </form>
</div>
<br>
<ng-template #forminfo>
  <p class="alert alert-success">
    {{ successMessage }}
  </p>
  <a class="btn btn-dark" routerLink="/apartments"> Back </a>
</ng-template>
